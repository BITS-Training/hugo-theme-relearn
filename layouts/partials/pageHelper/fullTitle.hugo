{{- $title := partial "pageHelper/title.hugo" . }}
{{- with .page }}
  {{- if and $title site.Title (not (eq $title site.Title)) }}
    {{- if $.invert }}
      {{- $title = printf "%s %s %s" $title (default "::" site.Params.titleSeparator) site.Title }}
    {{- else }}
      {{- $title = printf "%s %s %s" site.Title (default "::" site.Params.titleSeparator) $title }}
    {{- end }}
  {{- end }}
{{- end }}
{{- return $title }}